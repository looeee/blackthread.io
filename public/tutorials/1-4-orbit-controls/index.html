<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Black Thread Design  | Adding Camera Controls</title>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">


  <meta name="viewport" content="width=device-width, initial-scale=1.0">


<meta name="generator" content="Hugo 0.32.4" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



  <link href='https://www.blackthreaddesign.com/css/standard.css' rel='stylesheet' type="text/css" />


<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway"/>

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />



<meta property="og:title" content="Adding Camera Controls" />
<meta property="og:description" content="How to set up OrbitControls to control the camera in your three.js scene" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.blackthreaddesign.com/tutorials/1-4-orbit-controls/" />
















<meta itemprop="name" content="Adding Camera Controls">
<meta itemprop="description" content="How to set up OrbitControls to control the camera in your three.js scene">



<meta itemprop="wordCount" content="438">



<meta itemprop="keywords" content="three.js,camera,controls,examples,plugins,orbit controls," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Adding Camera Controls"/>
<meta name="twitter:description" content="How to set up OrbitControls to control the camera in your three.js scene"/>

  </head>

  <body>
    
  <nav class="masthead">

    <ul class="visible-links">
      <li class="masthead-title"><a href="/">Blackthread Design</a></li>
      <li id="spacer"></li>

      
        <li><a class="" href="https://www.blackthreaddesign.com/blog/">Blog</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/tutorials/">Tutorials</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/about/">About</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/contact/">Contact</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/experiments/">Experiments</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/loader/">Loader</a></li>
      

      <li><button class="fa fa-bars toggle-links hide"></button>
      </li></ul>
      <ul class="hidden-links fold"></ul>
  </nav>

  <script>


    ( function() {

      var Greedy = function Greedy( options ) {

        this.masthead = document.querySelector('.masthead');
        this.visibleLinks = this.masthead.querySelector('.visible-links');
        this.hiddenLinks = this.masthead.querySelector('.hidden-links');
        this.toggleButton = this.masthead.querySelector('.toggle-links');
        this.spacer = this.masthead.querySelector('#spacer');

        this.setupResize();
        this.setupButton();

        this.decreaseSize();
        this.decreaseSize();

      };

      Object.assign( Greedy.prototype, {

        visibleLinksWidth() {

          var width = 0;

          for( child in this.visibleLinks.children ){

            if ( this.visibleLinks.children.hasOwnProperty( child ) ) {

              if( this.visibleLinks.children[ child ].id !== spacer ) width += this.visibleLinks.children[ child ].offsetWidth;

            }

          }

          return width;
        },

        increaseSize() {

          this.spacer.style.width = 0;

          if( this.hiddenLinks.children.length === 0 ) {

            this.hiddenLinks.classList.add( 'fold' );
            this.setSpacerWidth();
            return;

          }

          var width = this.visibleLinksWidth() + this.hiddenLinks.firstChild.offsetWidth;

          while (
            this.hiddenLinks.children.length > 0 &&
            width < this.masthead.clientWidth
          ) {

            width += this.hiddenLinks.firstChild.offsetWidth;
            this.visibleLinks.insertBefore( this.hiddenLinks.firstChild, this.visibleLinks.lastChild );


          }

          this.showButton();
          this.setSpacerWidth();

        },

        decreaseSize() {

          this.spacer.style.width = 0;

          while ( this.masthead.clientWidth < this.visibleLinks.scrollWidth ) {

            if( this.visibleLinks.children.length === 3 ) {

              this.showButton();
              this.setSpacerWidth();
              return;

            }


            var secondLastChild = this.visibleLinks.children[ this.visibleLinks.children.length - 2 ];
            this.hiddenLinks.insertBefore( secondLastChild, this.hiddenLinks.firstChild );

          }

          this.showButton();
          this.setSpacerWidth();

        },

        setSpacerWidth(){

          this.spacer.style.width = this.visibleLinks.offsetWidth - this.visibleLinksWidth() + 'px';

        },

        showButton() {

          if( this.hiddenLinks.children.length === 0 ) this.toggleButton.classList.add( 'hide' );
          else this.toggleButton.classList.remove( 'hide' );

        },

        setupResize: function() {

          var self = this;
          var lastWidth = window.innerWidth;

          window.addEventListener( 'resize', function() {

            if( window.innerWidth > lastWidth ) self.increaseSize();
            else if( window.innerWidth < lastWidth ) self.decreaseSize();

            lastWidth = window.innerWidth;
          } );

        },

        setupButton: function() {

          var self = this;

          this.toggleButton.addEventListener( 'click', function() {

            self.hiddenLinks.classList.toggle( 'fold' );

          } );


        },

      } );

      var menu = new Greedy();

      const masthead = document.querySelector( '.masthead' );

      document.addEventListener( 'scroll', () => {

        if (window.scrollY > 50) {
          masthead.classList.add( 'shrink' );
        } else {
          masthead.classList.remove( 'shrink' );
        }

      } );

    })();

  </script>

    <main role="main" id="main">

  
    <div id="page-content">
    <button id="toggle-nav" class="fa fa-bars fa-2x"></button>

<nav id="vert-nav" class="fold">
  <ul>
    <li class="nav-title"></li>
    
    
      <li>
        
          </span><a href="/blog/progress-bar/" class="">Faking a progress bar in three.js</a>
        
      </li>
    
      <li>
        
          </span><a href="/blog/promisifying-threejs-loaders/" class="">Promisifying three.js loaders</a>
        
      </li>
    
  </ul>
</nav>

<script>

  var sidenav = function() {

    var content = document.querySelector( '#main' );
    var toggleButton = document.querySelector( '#toggle-nav' );
    var nav = document.querySelector( '#vert-nav' );

    var breakpoint = 1280;

    function updateMenu(){

      if( content.offsetWidth < breakpoint ) {

        if( !toggleButton.classList.contains( 'hide' ) ) return;
        toggleButton.classList.remove( 'hide' );
        nav.classList.add( 'fold' );

      }
      else {

        if( toggleButton.classList.contains( 'hide' ) ) return;
        toggleButton.classList.add( 'hide' );
        nav.classList.remove( 'fold' );

      }

    }

    updateMenu();

    toggleButton.addEventListener( 'click', function( e ) {

      e.preventDefault();

      nav.classList.toggle( 'fold' );

    } );

    window.addEventListener( 'resize', updateMenu );

  };

  window.addEventListener( 'load', sidenav );

</script>
  

    <article id="article">
      <header>
        <h2>Adding Camera Controls</h2>
      </header>
      
  <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#including-the-orbitcontrols-js-script">Including the OrbitControls.js script</a></li>
<li><a href="#setting-up-the-controls">Setting up the controls</a></li>
</ul></li>
</ul></li>
</ul>
</nav>

      
  <span class="reading-time" title="Read time">
    <strong>Reading time: </strong> around 2 minutes
  </span>

      <section class="content">
        

<p>So far our scene is not interactive - it is animated, but it doesn&rsquo;t take any user input (unless you count responding to the changing size of the browser window).</p>

<p>As usual, we&rsquo;ll continue from where we left off in the last chapter:</p>

<p><p data-height="400" data-theme-id="0" data-slug-hash="YYGEJV" data-default-tab="result" class='codepen'></p>
<script async="async" src="//codepen.io/assets/embed/ei.js"></script></p>

<p>First of all, remove the lines that make the box rotate - it will be easier to see that the camera is moving without these.</p>

<h3 id="including-the-orbitcontrols-js-script">Including the OrbitControls.js script</h3>

<p>The main <code>three.js</code> script doesn&rsquo;t include any camera controls, so we will have to include a separate script.</p>

<p>The controls that we are going to use are called <a href="https://threejs.org/docs/#examples/controls/OrbitControls">OrbitalControls</a>, since they allow the camera to &lsquo;orbit&rsquo; around a point in space (by default it will orbit around <code>(0, 0, 0)</code> ).</p>

<p>The orbit controls file is located at <a href="https://github.com/mrdoob/three.js/blob/dev/examples/js/controls/OrbitControls.js">/examples/js/controls/OrbitControls.js</a> in the repo, and we can add it in a similar way to how we added the three.js script.</p>

<p>Turn your attention to the HTML pane in Codepen. Currently, it looks like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">
</span><span style="color:#75715e">Include the main three.js script.
</span><span style="color:#75715e">
</span><span style="color:#75715e">This means that the global variable THREE will be available for use to use
</span><span style="color:#75715e">--&gt;</span>

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://threejs.org/build/three.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>Add the OrbitControls.js file, making sure to put it after the three.js script:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">...
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://threejs.org/build/three.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e">
</span><span style="color:#75715e">Include the OrbitControls script.
</span><span style="color:#75715e">
</span><span style="color:#75715e">Note that this must be included AFTER the three.js script as it
</span><span style="color:#75715e">needs to use the global THREE variable
</span><span style="color:#75715e">--&gt;</span>

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://threejs.org/examples/js/controls/OrbitControls.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>{:.paragraph-notice}
Friendly reminder: Don&rsquo;t include the scripts from threejs.org this way in a production app. It&rsquo;s not the fastest way to get the files. I&rsquo;m doing it this way since we are guaranteed to always get the latest version, but again in a production app you probably don&rsquo;t want this since the version might update at any time and your app will break without warning.</p>

<h3 id="setting-up-the-controls">Setting up the controls</h3>

<p>Making the controls work is almost ridiculously easy - in fact, all we need to do is add a single line to our app. Add the following line after the camera has been set up:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">...
  <span style="color:#a6e22e">camera</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">set</span>( <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">40</span> );

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">controls</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">OrbitControls</span>( <span style="color:#a6e22e">camera</span> );
...</code></pre></div>

<p>And that&rsquo;s it! You can now control the camera using touch or mouse. Experiment with the different mouse buttons and touches to see how it works.</p>

<p>One thing to note about the orbit controls is that they steal your <code>right click</code> function - the right mouse button is used to pan the camera whenever you hover over the canvas. It&rsquo;s a bit annoying if you want to use right-click to open the browser console, but just remember that you can still use the shortcut <code>CTRL + SHIFT + I</code> instead.</p>

<p><p data-height="400" data-theme-id="0" data-slug-hash="eydKyM" data-default-tab="result" class='codepen'></p>
<script async="async" src="//codepen.io/assets/embed/ei.js"></script></p>

      </section>
      <aside>
        <div id="meta">
  <p class="meta-tags">
  <strong><span class="fa fa-fw fa-tags" aria-hidden="true"></span>Tags: </strong>
    <span itemprop="keywords">
      
        <a href="/tags/three.js">three.js,</a> </li>
      
        <a href="/tags/camera">camera,</a> </li>
      
        <a href="/tags/controls">controls,</a> </li>
      
        <a href="/tags/examples">examples,</a> </li>
      
        <a href="/tags/plugins">plugins,</a> </li>
      
        <a href="/tags/orbit-controls">orbit controls,</a> </li>
      
    </span>
</p>

  <p class="meta-date">
    <strong>
      <span class="fa fa-fw fa-calendar" aria-hidden="true"></span>
      Updated:
    </strong>
    <time datetime="">
      0001-01-01 00:00:00 &#43;0000 UTC
    </time></p>
  </p>

  <p class="meta-author">
    <strong><span class="fa fa-fw fa-user" aria-hidden="true"></span>Author: </strong><a href="/about" itemprop="author" rel="author">Lewy Blue</a>
  </p>
</div>
      </aside>
      <nav class="pagination">
  
    <a href="https://www.blackthreaddesign.com/tutorials/2-components-helpers/" title="Components and Helpers">Previous</a>
  
  
    <a href="#" class="disabled">Next</a>
  
</nav>
      <div class="comments">

  <div class="new-comment">
  <h4>Leave a Comment</h4>

  <p id="comment-submitted-message" class="hide">Thank you! You comment is being vetted and will appear here in a couple of minutes.</p>
  <form method="POST" action="https://api.staticman.net/v2/entry/looeee/blackthread-heroku/master/comments">

    <input name="options[slug]" type="hidden" value="page.slug">
    <input name="options[parent]" type="hidden" value="post_slug">
    <input type="hidden" name="options[origin]" value="page.url">
    <input type="hidden" name="options[redirect]" value="page.url?comment-submitted">

    <label><input name="fields[name]" type="text" placeholder="Name" required></label>
    <label><input name="fields[email]" type="email" placeholder="Email address (will not be made public)" required></label>
    <label>Message<textarea name="fields[message]" required></textarea></label>

    <button type="submit">Submit comment</button>
  </form>

</div>

  <h4 class="comments-title">Previous Comments</h4>

</div>

<script>

  if( window.location.href.indexOf( 'comment-submitted' ) !== -1 ) {

    document.querySelector( '#comment-submitted-message' ).classList.remove( 'hide' );

  }

</script>
    </article>
  </div>
</main>
    
  <footer>
    <div class="footer-social">
      
        <div class="social-icons">
          <a href="https://github.com/looeee/"><span class="fa fa-fw fa-github" aria-hidden="true"></span> GitHub</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://twitter.com/looeeeb/"><span class="fa fa-fw fa-twitter" aria-hidden="true"></span> Twitter</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://discourse.threejs.org/u/looeee/"><span class="fa fa-fw fa-commenting" aria-hidden="true"></span> Discourse</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://www.linkedin.com/in/lewy-blue-30b9b193/"><span class="fa fa-fw fa-linkedin" aria-hidden="true"></span> LinkedIn</a>
        </div>
      
    </div>
    <div class="footer-copyright">&copy; 0001 Lewy Blue.</div>
  </footer>

    




  



  <script async src='https://www.blackthreaddesign.com/js/build/main.js'></script>

  </body>
</html>
