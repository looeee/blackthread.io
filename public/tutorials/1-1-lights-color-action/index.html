<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Black Thread Design  | Lights, Color, Action!</title>
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">


  <meta name="viewport" content="width=device-width, initial-scale=1.0">


<meta name="generator" content="Hugo 0.32.4" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



  <link href='https://www.blackthreaddesign.com/css/standard.css' rel='stylesheet' type="text/css" />


<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway"/>

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />



<meta property="og:title" content="Lights, Color, Action!" />
<meta property="og:description" content="Building on the last tutorial we&#39;ll add lights, color and animation to our scene" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.blackthreaddesign.com/tutorials/1-1-lights-color-action/" />
















<meta itemprop="name" content="Lights, Color, Action!">
<meta itemprop="description" content="Building on the last tutorial we&#39;ll add lights, color and animation to our scene">



<meta itemprop="wordCount" content="1851">



<meta itemprop="keywords" content="three.js,scene,renderer,webgl,animation,color,lights," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Lights, Color, Action!"/>
<meta name="twitter:description" content="Building on the last tutorial we&#39;ll add lights, color and animation to our scene"/>

  </head>

  <body>
    
  <nav class="masthead">

    <ul class="visible-links">
      <li class="masthead-title"><a href="/">Blackthread Design</a></li>
      <li id="spacer"></li>

      
        <li><a class="" href="https://www.blackthreaddesign.com/blog/">Blog</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/tutorials/">Tutorials</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/about/">About</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/contact/">Contact</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/experiments/">Experiments</a></li>
      
        <li><a class="" href="https://www.blackthreaddesign.com/loader/">Loader</a></li>
      

      <li><button class="fa fa-bars toggle-links hide"></button>
      </li></ul>
      <ul class="hidden-links fold"></ul>
  </nav>

  <script>


    ( function() {

      var Greedy = function Greedy( options ) {

        this.masthead = document.querySelector('.masthead');
        this.visibleLinks = this.masthead.querySelector('.visible-links');
        this.hiddenLinks = this.masthead.querySelector('.hidden-links');
        this.toggleButton = this.masthead.querySelector('.toggle-links');
        this.spacer = this.masthead.querySelector('#spacer');

        this.setupResize();
        this.setupButton();

        this.decreaseSize();
        this.decreaseSize();

      };

      Object.assign( Greedy.prototype, {

        visibleLinksWidth() {

          var width = 0;

          for( child in this.visibleLinks.children ){

            if ( this.visibleLinks.children.hasOwnProperty( child ) ) {

              if( this.visibleLinks.children[ child ].id !== spacer ) width += this.visibleLinks.children[ child ].offsetWidth;

            }

          }

          return width;
        },

        increaseSize() {

          this.spacer.style.width = 0;

          if( this.hiddenLinks.children.length === 0 ) {

            this.hiddenLinks.classList.add( 'fold' );
            this.setSpacerWidth();
            return;

          }

          var width = this.visibleLinksWidth() + this.hiddenLinks.firstChild.offsetWidth;

          while (
            this.hiddenLinks.children.length > 0 &&
            width < this.masthead.clientWidth
          ) {

            width += this.hiddenLinks.firstChild.offsetWidth;
            this.visibleLinks.insertBefore( this.hiddenLinks.firstChild, this.visibleLinks.lastChild );


          }

          this.showButton();
          this.setSpacerWidth();

        },

        decreaseSize() {

          this.spacer.style.width = 0;

          while ( this.masthead.clientWidth < this.visibleLinks.scrollWidth ) {

            if( this.visibleLinks.children.length === 3 ) {

              this.showButton();
              this.setSpacerWidth();
              return;

            }


            var secondLastChild = this.visibleLinks.children[ this.visibleLinks.children.length - 2 ];
            this.hiddenLinks.insertBefore( secondLastChild, this.hiddenLinks.firstChild );

          }

          this.showButton();
          this.setSpacerWidth();

        },

        setSpacerWidth(){

          this.spacer.style.width = this.visibleLinks.offsetWidth - this.visibleLinksWidth() + 'px';

        },

        showButton() {

          if( this.hiddenLinks.children.length === 0 ) this.toggleButton.classList.add( 'hide' );
          else this.toggleButton.classList.remove( 'hide' );

        },

        setupResize: function() {

          var self = this;
          var lastWidth = window.innerWidth;

          window.addEventListener( 'resize', function() {

            if( window.innerWidth > lastWidth ) self.increaseSize();
            else if( window.innerWidth < lastWidth ) self.decreaseSize();

            lastWidth = window.innerWidth;
          } );

        },

        setupButton: function() {

          var self = this;

          this.toggleButton.addEventListener( 'click', function() {

            self.hiddenLinks.classList.toggle( 'fold' );

          } );


        },

      } );

      var menu = new Greedy();

      const masthead = document.querySelector( '.masthead' );

      document.addEventListener( 'scroll', () => {

        if (window.scrollY > 50) {
          masthead.classList.add( 'shrink' );
        } else {
          masthead.classList.remove( 'shrink' );
        }

      } );

    })();

  </script>

    <main role="main" id="main">

  
    <div id="page-content">
    <button id="toggle-nav" class="fa fa-bars fa-2x"></button>

<nav id="vert-nav" class="fold">
  <ul>
    <li class="nav-title"></li>
    
    
      <li>
        
          </span><a href="/blog/progress-bar/" class="">Faking a progress bar in three.js</a>
        
      </li>
    
      <li>
        
          </span><a href="/blog/promisifying-threejs-loaders/" class="">Promisifying three.js loaders</a>
        
      </li>
    
  </ul>
</nav>

<script>

  var sidenav = function() {

    var content = document.querySelector( '#main' );
    var toggleButton = document.querySelector( '#toggle-nav' );
    var nav = document.querySelector( '#vert-nav' );

    var breakpoint = 1280;

    function updateMenu(){

      if( content.offsetWidth < breakpoint ) {

        if( !toggleButton.classList.contains( 'hide' ) ) return;
        toggleButton.classList.remove( 'hide' );
        nav.classList.add( 'fold' );

      }
      else {

        if( toggleButton.classList.contains( 'hide' ) ) return;
        toggleButton.classList.add( 'hide' );
        nav.classList.remove( 'fold' );

      }

    }

    updateMenu();

    toggleButton.addEventListener( 'click', function( e ) {

      e.preventDefault();

      nav.classList.toggle( 'fold' );

    } );

    window.addEventListener( 'resize', updateMenu );

  };

  window.addEventListener( 'load', sidenav );

</script>
  

    <article id="article">
      <header>
        <h2>Lights, Color, Action!</h2>
      </header>
      
  <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#code-organisation">Code organisation</a>
<ul>
<li><a href="#animating-with-requestanimationframe">Animating with <code>requestAnimationFrame</code></a>
<ul>
<li><a href="#recursively-calling-our-animate-function">Recursively calling our animate() function</a></li>
</ul></li>
<li><a href="#setting-the-material-s-colour">Setting the material&rsquo;s colour</a>
<ul>
<li><a href="#adding-lights">Adding lights</a>
<ul>
<li><a href="#adding-global-illumination-with-an-ambientlight">Adding global illumination with an AmbientLight</a></li>
<li><a href="#adding-omnidirectional-illumination-with-a-pointlight">Adding omnidirectional illumination with a PointLight</a></li>
</ul></li>
<li><a href="#adding-movement">Adding movement</a></li>
</ul></li>
<li><a href="#final-result">Final result</a></li>
</ul></li>
</ul></li>
</ul>
</nav>

      
  <span class="reading-time" title="Read time">
    <strong>Reading time: </strong> around 10 minutes
  </span>

      <section class="content">
        

<p>We&rsquo;ll pick up here exactly where we left off in the last chapter. Here is the complete code so far:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// create a WebGLRenderer and set its width and height
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">renderer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">WebGLRenderer</span>();
<span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">setSize</span>( window.<span style="color:#a6e22e">innerWidth</span>, window.<span style="color:#a6e22e">innerHeight</span> );

<span style="color:#75715e">// add the automatically created canvas element to the page
</span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">appendChild</span>( <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">domElement</span> );

<span style="color:#75715e">// create a Scene
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">scene</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Scene</span>();

<span style="color:#75715e">// set up the options for a perspective camera
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fov</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">35</span>; <span style="color:#75715e">// fov = Field Of View
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">aspect</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">innerWidth</span> <span style="color:#960050;background-color:#1e0010">/ window.innerHeight;</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">nearClippingPlane</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.1</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">farClippingPlane</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>;

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">camera</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">PerspectiveCamera</span>( <span style="color:#a6e22e">fov</span>, <span style="color:#a6e22e">aspect</span>, <span style="color:#a6e22e">nearClippingPlane</span>, <span style="color:#a6e22e">farClippingPlane</span> );

<span style="color:#75715e">// every object is initially created at ( 0, 0, 0 )
</span><span style="color:#75715e">// we&#39;ll move the camera back a bit so that we can view the scene
</span><span style="color:#75715e"></span><span style="color:#a6e22e">camera</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">set</span>( <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">40</span> );

<span style="color:#75715e">// create a TorusKnotBufferGeometry
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">geometry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">TorusKnotBufferGeometry</span>( <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span> );

<span style="color:#75715e">// create a default (white) MeshBasicMaterial
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshBasicMaterial</span>();

<span style="color:#75715e">// create a Mesh containing the geometry and material
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">mesh</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Mesh</span>( <span style="color:#a6e22e">geometry</span>, <span style="color:#a6e22e">material</span> );

<span style="color:#75715e">// add the mesh to the scene object
</span><span style="color:#75715e"></span><span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">mesh</span> );

<span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );</code></pre></div>

<h2 id="code-organisation">Code organisation</h2>

<p>Before we go any further, let&rsquo;s take a moment to organise our code a little. We&rsquo;ll wrap everything we&rsquo;ve written so far in a function called <code>init()</code>, except for the line <code>renderer.render( scene, camera )</code> which will go in an <code>animate</code> function.</p>

<p>Once we have done this, our code will look like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// these need to be accessed inside more than one function so we&#39;ll declare them first
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">camera</span>, <span style="color:#a6e22e">renderer</span>, <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">mesh</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">init</span>() {

  <span style="color:#75715e">// create a WebGLRenderer and set its width and height
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">renderer</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">WebGLRenderer</span>();
  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">setSize</span>( window.<span style="color:#a6e22e">innerWidth</span>, window.<span style="color:#a6e22e">innerHeight</span> );

  <span style="color:#75715e">// add the automatically created canvas element to the page
</span><span style="color:#75715e"></span>  document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">appendChild</span>( <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">domElement</span> );

  <span style="color:#75715e">// create a Scene
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">scene</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Scene</span>();

  <span style="color:#75715e">// set up the options for a perspective camera
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fov</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">35</span>; <span style="color:#75715e">// fov = Field Of View
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">aspect</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">innerWidth</span> <span style="color:#960050;background-color:#1e0010">/ window.innerHeight;</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">nearClippingPlane</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.1</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">farClippingPlane</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>;

  <span style="color:#a6e22e">camera</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">PerspectiveCamera</span>( <span style="color:#a6e22e">fov</span>, <span style="color:#a6e22e">aspect</span>, <span style="color:#a6e22e">nearClippingPlane</span>, <span style="color:#a6e22e">farClippingPlane</span> );

  <span style="color:#75715e">// every object is initially created at ( 0, 0, 0 )
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// we&#39;ll move the camera back a bit so that we can view the scene
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">camera</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">set</span>( <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">40</span> );

  <span style="color:#75715e">// create a TorusKnotBufferGeometry
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">geometry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">TorusKnotBufferGeometry</span>( <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span> );

  <span style="color:#75715e">// create a default (white) MeshBasicMaterial
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshBasicMaterial</span>();

  <span style="color:#75715e">// create a Mesh containing the geometry and material
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mesh</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">Mesh</span>( <span style="color:#a6e22e">geometry</span>, <span style="color:#a6e22e">material</span> );

  <span style="color:#75715e">// add the mesh to the scene object
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">mesh</span> );

}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animate</span>() {

  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );

}

<span style="color:#75715e">// call the init function to set everything up
</span><span style="color:#75715e"></span><span style="color:#a6e22e">init</span>();

<span style="color:#75715e">// then call the animate function to render the scene
</span><span style="color:#75715e"></span><span style="color:#a6e22e">animate</span>();</code></pre></div>

<p>Code organisation is a <code>VERY</code> important thing to stay on top of - it will make any piece of software much easier for both you and other people to understand and maintain, and you should spend a considerable amount of time on any software project making sure that the code is well organised, clear, well named and easy to understand, as well as having just enough comments to guide a reader. It&rsquo;s not the subject of these tutorials so I won&rsquo;t say anything more about it, except that if you are serious about coding, then you need to be serious about code organisation too. Badly organised code is bad code, even if it currently does what it is supposed to.</p>

<p>You may have noticed that the <code>animate</code> function above is badly named - as I said in the previous chapter, <code>renderer.render( scene, camera )</code> renders a <em>still</em> image of the <code>scene</code> from the point of view of the <code>camera</code> - and it seems a little unfair to call a single image an animation.</p>

<p>The obvious thing to do next, then, is to turn it into an animation.</p>

<h3 id="animating-with-requestanimationframe">Animating with <code>requestAnimationFrame</code></h3>

<p>To do so, we&rsquo;ll use a method that is built into every modern browser, called <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a>. From that page:</p>

<p>{:.quote}
The window.requestAnimationFrame() method tells the browser that you wish to perform an animation and requests that the browser call a specified function to update an animation before the next repaint.</p>

<p>The important term here is <code>next repaint</code> and we should take a few moments here to understand what it means. The browser will attempt to refresh the page, at most, at the same refresh rate as the screen it is being displayed on. This means that if you are viewing your app on a standard issue 2017 monitor, you will get a maximum repaint rate of 60 repaints per second. You can consider the following terms identical, although there are technical differences:</p>

<p><code>maximum repaint rate</code> = <code>refresh rate of your monitor</code> = <code>maximum frame rate</code> = <code>Hz</code> = <code>Hertz</code>.</p>

<p>The last one, Hz, is a unit which means <code>number of times per second</code>.</p>

<p>So, our standard issue 2017 computer monitor has a refresh rate of 60Hz, that is, the picture is redrawn 60 times per seconds.</p>

<p>This means that once we set up our animation using <code>requestAnimationFrame</code>, our app will <em>attempt</em> to draw a new frame 60 times per second. Depending on the complexity of your app, and the speed of your computer, it may or may not succeed - if the frame is not ready in time, it will simply redraw it at the next available refresh interval instead.</p>

<p>Other monitors or TVs may have different refresh rates - a typical TV (even a mid-range modern one) likely has a refresh rate of 30Hz, while a super fancy new 3D capable monitor may have a refresh rate of 120Hz or even 240Hz.</p>

<p>The upshot of all of this is that when you are creating an application, you should never base animation on frame rate - i.e., you should never say that your character should move 1/100th of step each frame, because on your super fast laptop this may look fine, but on my 3-year-old Android phone, complete with a cracked screen since I forgot to take it out of my pocket while hanging upside down from a tree last week, your character will be moving in horrible jerky slow motion.</p>

<p>Base your animations on how much <em>time</em> has passed instead and everything will be golden.</p>

<h4 id="recursively-calling-our-animate-function">Recursively calling our animate() function</h4>

<p>Actually using <code>requestAnimationFrame</code> is pretty simple - the trick is to do it recursively. That is, we&rsquo;ll call our <code>animate</code> function <em>within</em> our animate function. Update it to look like this:</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animate</span>() {

  <span style="color:#75715e">// call animate recursively
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">requestAnimationFrame</span>( <span style="color:#a6e22e">animate</span> );

  <span style="color:#75715e">// render a frame
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );
}</code></pre></div></p>

<p>And that, my friends, is that! Cue round of applause, bow, exeunt our hero stage left.</p>

<p>Well, except of course, that our scene doesn&rsquo;t <em>look</em> any different. It may be updating at up to 60 frames per second, but nothing is moving so it looks identical to us.</p>

<p>We&rsquo;ll add some movement soon, but first lets set up some lights and colour.</p>

<h3 id="setting-the-material-s-colour">Setting the material&rsquo;s colour</h3>

<p>Now would be a good time to take a look at the <a href="https://threejs.org/docs/#api/math/Color">Color</a> documentation to get an idea of how colour works in three.js.</p>

<p>We&rsquo;ll go over it in more depth soon, but for now just note that although there are lots of ways listed in the docs, the standard way of setting colour is to use a <code>hexadecimal triple</code>. You may already be familiar with CSS colours - they look like <code>#ffffff</code> (white) or <code>#000000</code> (black). Well, that is a hexadecimal triple, and in JavaScript, it&rsquo;s pretty similar, we just need to write them slightly differently.</p>

<p>In JavaScript, a hexadecimal number is denoted with <code>0x</code> instead of <code>#</code>. The CSS colors above become <code>0xffffff</code> (white)  or <code>0x000000</code>, or <code>0x800080</code> (purple). Let&rsquo;s use the last one now and set our previously white material to a nice purple colour:</p>

<p>Update the section:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// create a default (white) MeshBasicMaterial
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshBasicMaterial</span>();</code></pre></div>

<p>So that it looks like:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#75715e">// create a purple MeshStandardMaterial
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">material</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">MeshStandardMaterial</span>( { <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0x800080</span> } );</code></pre></div>

<p>And&hellip; our scene has gone completely black. Great.</p>

<p>No, it&rsquo;s OK - remember in the last chapter I told you that most materials need a light to be seen? Well, MeshStandardMaterial needs a light. In fact, not only that but it&rsquo;s a super fancy &lsquo;Physically Correct&rsquo; material, that reacts to light in the same way an object in the real work does, or at least in a fairly good approximation thereof.</p>

<p>So we need a light then? No problem.</p>

<h4 id="adding-lights">Adding lights</h4>

<p>At the moment our scene looks kind of ugly. Let&rsquo;s add some lights and switch to a higher quality material.</p>

<h5 id="adding-global-illumination-with-an-ambientlight">Adding global illumination with an AmbientLight</h5>

<p>First we&rsquo;ll add an <a href="https://threejs.org/docs/#Reference/Lights/AmbientLight">AmbientLight</a>.</p>

<p>This provides <a href="https://en.wikipedia.org/wiki/Global_illumination">global illumination</a> - that is, it adds non-directional light equally from all directions to all objects in the scene. You will generally always add some ambient light to a 3D scene. Real light bounces infinitely from object to object and there is no way to mimic this in 3D so we fake it by adding some global illumination. We&rsquo;ll create an AmbientLight inside our init function.</p>

<p>And take note that just like meshes, lights need to be added to the scene to be taken into account when rendering</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">....
<span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">mesh</span> );

  <span style="color:#75715e">// create a global illumination light
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ambientLight</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">AmbientLight</span>( <span style="color:#ae81ff">0xffffff</span>, <span style="color:#ae81ff">1.0</span> );

  <span style="color:#75715e">// remember to add the light to the scene
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">ambientLight</span> );
...</code></pre></div>

<p>If you refresh the page again, you will see dimly see the mesh again.</p>

<h5 id="adding-omnidirectional-illumination-with-a-pointlight">Adding omnidirectional illumination with a PointLight</h5>

<p>Let&rsquo;s add another light - this time a <a href="https://threejs.org/docs/#Reference/Lights/PointLight">PointLight</a>. This light also shines in every direction, but this time from a specific point in space. You can think if this one like a bare light bulb, that illuminates everything around it. In some applications, this is called an &lsquo;Omni&rsquo; (for omnidirectional) light.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">....
  <span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">ambientLight</span> );

  <span style="color:#75715e">// Create an omnidirectional point light
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pointLight</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">THREE</span>.<span style="color:#a6e22e">PointLight</span>( <span style="color:#ae81ff">0xffffff</span>, <span style="color:#ae81ff">1.0</span> );

  <span style="color:#a6e22e">pointLight</span>.<span style="color:#a6e22e">position</span>.<span style="color:#a6e22e">set</span>( <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">20</span> );

  <span style="color:#a6e22e">scene</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">pointLight</span> );
...</code></pre></div>

<p>We&rsquo;ve also positioned the light halfway between the mesh and the camera (remember, since we didn&rsquo;t move the mesh it&rsquo;s still at the default position of <code>(0, 0, 0)</code> ).</p>

<p>Also now (FINALLY!!) our scene really looks 3D too. Sweet.</p>

<p>Try moving the light around a little to see the effect of the shiny areas (these are called <code>specular highlights</code>).</p>

<p>There are a couple of other light types as well. We&rsquo;ll go over them later.</p>

<h4 id="adding-movement">Adding movement</h4>

<p>Back to the animation. As noted above, our scene should now be animating nicely at somewhere close to 60 frames per second, but we have no way of telling this since nothing is moving.</p>

<p>Let&rsquo;s add some rotation to the mesh. Add a couple of lines to the <code>animate</code> function:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">...
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animate</span>() {

  <span style="color:#75715e">// call animate recursively
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">requestAnimationFrame</span>( <span style="color:#a6e22e">animate</span> );

  <span style="color:#75715e">// increase the mesh&#39;s rotation each frame
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">mesh</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">z</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
  <span style="color:#a6e22e">mesh</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">x</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;
  <span style="color:#a6e22e">mesh</span>.<span style="color:#a6e22e">rotation</span>.<span style="color:#a6e22e">y</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">0.01</span>;

  <span style="color:#a6e22e">renderer</span>.<span style="color:#a6e22e">render</span>( <span style="color:#a6e22e">scene</span>, <span style="color:#a6e22e">camera</span> );

}
...</code></pre></div>

<h3 id="final-result">Final result</h3>

<p>&hellip;and there you have it, a fine spiny rotaty torus knot in all its glory!</p>

<p><p data-height="400" data-theme-id="0" data-slug-hash="GmJPrm" data-default-tab="result" class='codepen'></p>
<script async="async" src="//codepen.io/assets/embed/ei.js"></script></p>

      </section>
      <aside>
        <div id="meta">
  <p class="meta-tags">
  <strong><span class="fa fa-fw fa-tags" aria-hidden="true"></span>Tags: </strong>
    <span itemprop="keywords">
      
        <a href="/tags/three.js">three.js,</a> </li>
      
        <a href="/tags/scene">scene,</a> </li>
      
        <a href="/tags/renderer">renderer,</a> </li>
      
        <a href="/tags/webgl">webgl,</a> </li>
      
        <a href="/tags/animation">animation,</a> </li>
      
        <a href="/tags/color">color,</a> </li>
      
        <a href="/tags/lights">lights,</a> </li>
      
    </span>
</p>

  <p class="meta-date">
    <strong>
      <span class="fa fa-fw fa-calendar" aria-hidden="true"></span>
      Updated:
    </strong>
    <time datetime="">
      0001-01-01 00:00:00 &#43;0000 UTC
    </time></p>
  </p>

  <p class="meta-author">
    <strong><span class="fa fa-fw fa-user" aria-hidden="true"></span>Author: </strong><a href="/about" itemprop="author" rel="author">Lewy Blue</a>
  </p>
</div>
      </aside>
      <nav class="pagination">
  
    <a href="https://www.blackthreaddesign.com/tutorials/0-0-requirements/" title="Requirements for running a three.js scene">Previous</a>
  
  
    <a href="https://www.blackthreaddesign.com/tutorials/1-3-textures-intro/" title="Introduction to textures">Next</a>
  
</nav>
      <div class="comments">

  <div class="new-comment">
  <h4>Leave a Comment</h4>

  <p id="comment-submitted-message" class="hide">Thank you! You comment is being vetted and will appear here in a couple of minutes.</p>
  <form method="POST" action="https://api.staticman.net/v2/entry/looeee/blackthread-heroku/master/comments">

    <input name="options[slug]" type="hidden" value="page.slug">
    <input name="options[parent]" type="hidden" value="post_slug">
    <input type="hidden" name="options[origin]" value="page.url">
    <input type="hidden" name="options[redirect]" value="page.url?comment-submitted">

    <label><input name="fields[name]" type="text" placeholder="Name" required></label>
    <label><input name="fields[email]" type="email" placeholder="Email address (will not be made public)" required></label>
    <label>Message<textarea name="fields[message]" required></textarea></label>

    <button type="submit">Submit comment</button>
  </form>

</div>

  <h4 class="comments-title">Previous Comments</h4>

</div>

<script>

  if( window.location.href.indexOf( 'comment-submitted' ) !== -1 ) {

    document.querySelector( '#comment-submitted-message' ).classList.remove( 'hide' );

  }

</script>
    </article>
  </div>
</main>
    
  <footer>
    <div class="footer-social">
      
        <div class="social-icons">
          <a href="https://github.com/looeee/"><span class="fa fa-fw fa-github" aria-hidden="true"></span> GitHub</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://twitter.com/looeeeb/"><span class="fa fa-fw fa-twitter" aria-hidden="true"></span> Twitter</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://discourse.threejs.org/u/looeee/"><span class="fa fa-fw fa-commenting" aria-hidden="true"></span> Discourse</a>
        </div>
      
      
        <div class="social-icons">
          <a href="https://www.linkedin.com/in/lewy-blue-30b9b193/"><span class="fa fa-fw fa-linkedin" aria-hidden="true"></span> LinkedIn</a>
        </div>
      
    </div>
    <div class="footer-copyright">&copy; 0001 Lewy Blue.</div>
  </footer>

    




  



  <script async src='https://www.blackthreaddesign.com/js/build/main.js'></script>

  </body>
</html>
