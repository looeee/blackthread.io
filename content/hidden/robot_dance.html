---
title: "Robot Dance"
comments: false
noFooter: true
noMeta: true
noSidebar: true
js: robot_dance
css: robot_dance
vendor-js:
  [ "/zip/inflate.min" ]
---

<div id="container">

  <div id="controls" class="accordion">

    <ul>

      <li>
        <input type="checkbox">
        <i></i>
        <h2>Start with creating frames</h2>

        <div id="frame-controls" class="accordion-section">

          <ul class="accordion controls-section">

            <li>
              <input type="checkbox">
              <i></i>
              <h4>Info</h4>

              <div class="accordion-section">
                <p>Let's start by creating some frames. Each frame is a static <em>pose</em> that the robot can be in.</p>
                <p>You can control the robot's head, shoulders and elbows. For each controllable joint, there are two <strong>axes of control</strong>, labelled <strong>pitch</strong> and <strong>yaw</strong>.</p>
                <p>These control <strong>up/down</strong> and <strong>left/right</strong> motion.</p>
                <p>Frames can either be <strong>grouped</strong> together, or added directly to the dance.</p>
              </div>

            </li>

          </ul>

          <table class="controls-section">
            <thead id="frames-thead">
              <tr>
                <th>#</th>
                <th>Head</th>
                <th>Left Shoulder</th>
                <th>Right Shoulder</th>
                <th>Left Elbow</th>
                <th>Right Elbow</th>
                <th><button id="create-frame-button">Add Frame</button></th>
              </tr>
            </thead>
            <tbody id="frames"></tbody>
          </table>

        </div>
      </li>

      <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Create groups with multiple frames</h2>

        <div id="group-controls" class="accordion-section">

          <ul class="accordion controls-section">
            <li>
              <input type="checkbox">
              <i></i>
              <h4>Info</h4>

              <div class="accordion-section">
                <p>Now that we've created some  frames, we can start to make an animation. Add two or more frames to a group to make the robot groove!</p>
                <p>It's best combine frames that are only a couple of degrees apart so that the movement is not jerky.</p>
                <p><strong>Tip:</strong> Try adding a sequence of frames that start and end with the same frame for a looping animation. For example: frame 1, frame 2, then frame 1 again.</p>
              </div>
            </li>
          </ul>

          <table class="controls-section">
            <thead>
              <tr>
                <th>#</th>
                <th><span class="selected-frame-message">Frame 1 is selected</span></th>
                <th><button id="create-group-button">New Group</button></th>
              </tr>
            </thead>
            <tbody id="groups"></tbody>
          </table>

        </div>
      </li>

      <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Add music</h2>

        <div id="music-controls" class="accordion-section">

          <ul class="accordion controls-section">

            <li>
              <input type="checkbox">
              <i></i>
              <h4>Info</h4>

              <div class="accordion-section">
                <p>No dance is complete without music!</p>
                <p>Choose from one of the tracks below, or upload your own in mp3, ogg, wav, flac, aac or webm format.</p>
              </div>

            </li>

          </ul>

          <div class="controls-section">
            <button id="upload-mp3-button">Upload Music</button>
            <input type="file" id="upload-mp3-input" class="hide" accept="audio/*" >
            <select id="loaded-tracks"> </select>

            <button id="play-music" disabled>Play</button>
            <button id="stop-music">Stop</button>
          </div>

        </div>
      </li>

      <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Create a dance with frames and groups</h2>

        <div id="dance-controls" class="accordion-section">

          <ul class="accordion controls-section">

            <li>
              <input type="checkbox">
              <i></i>
              <h4>Info</h4>

              <div class="accordion-section">
                <p>Frames and groups will play in the order they are added. You can also set how many times you want each group to loop. A dance must consist of at least two frames. Once enough frames/groups have been added the play button will become available.</p>
                <p>You can also set the <strong>framerate</strong> here - that is, the time that the robot takes to move between frames.</p>
                <p><strong>Practice Math: </strong> Enable this to practice your math skills! Calculate the total length of the current dance based on the frames and groups it contains (don't forget to factor in how many times each group loops!). Remember that this will depend on the framerate - at 1fps, each frame will take one second.</p>
              </div>

            </li>

          </ul>

          <div class="controls-section">
            <div>
                <span class="selected-frame-message">Frame 1 is selected</span>
                <span class="selected-group-message">Group 1 is selected</span>
            </div>
            <div>
              <button id="add-frame-to-dance">Add Selected Frame</button>
              <button id="add-group-to-dance">Add Selected Group</button>
              <button id="dance-button" disabled>
                <span id="play-symbol" class="fa fa-lg fa-play" aria-hidden="true" title="Remove all frames and groups from dance"></span>
              </button>
            </div>

            <div>
              <div>
                <span>Frame rate: </span><input id="framerate" type="number" min="0.1" max="10" step="0.1" value="1" /> fps
              </div>

              <div>
                <span>Practice Math</span><input id="advanced-control-toggle" type="checkbox" diasbled>
              </div>

              <div id="advanced-control" class="hide">
                Enter the total length of the dance here:

                <input type="text" id="advanced-control-input"
                placeholder="Not enough frames in dance!"
                onkeypress="return (event.charCode >= 48 && event.charCode <= 57) ||
                event.charCode == 46 || event.charCode == 0"
                style="background-color: #ffaaaa;"
                >
              </div>
            </div>

          </div>

          <div class="controls-section">
            <table>
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Number</th>
                  <th>Loop amount</th>
                  <th><button id="reset-dance" disabled><span class="fa fa-lg fa-trash-o" aria-hidden="true" title="Remove all frames and groups from dance"></button></span></th>
                </tr>
              </thead>
              <tbody id="dance-details"></tbody>
            </table>
          </div>

        </div>
      </li>

      <li>
        <input type="checkbox" checked>
        <i></i>
        <h2>Save and Load</h2>

        <div id="file-controls" class="accordion-section">

          <ul class="accordion controls-section">
            <li>
              <input type="checkbox">
              <i></i>
              <h4>Info</h4>

              <div class="accordion-section">
                <p>Save your dance here! Once you are happy with your creation, be sure to save it!
                  You can reload it later by clicking on <strong>Load Dance</strong> and selecting the file you saved.</p>
                <p>You can also load one of the example files to see a ready made dance in action.</p>
                <p><strong>Tip:</strong> Music files are not saved with your dance! You'll have to load your music files again.</p>
              </div>
            </li>

          </ul>

          <div class="controls-section">
            <button id="save-dance">Save Dance</button>
            <button id="load-dance">Load Dance</button>
            <input type="file" class="hide" id="file-input" accept=".json">

            <select id="examples">
              <option value="example-1">Example-1</option>
              <option value="example-2">Example-2</option>
              <option value="example-3">Example-3</option>
            </select>

            <button id="load-example">Load Example</button>
            <button id="reset-all">Reset Everything!</button>
          </div>
        </div>
      </li>

    </ul>

  </div>

  <div id="canvas-container">
    <div id="mouse-info"></div>
    <canvas id="canvas"></canvas>
  </div>


  <div id="loading-overlay">

    <div id="loading-bar" class="hide">
      <span id="bar">
        <span id="progress"></span>
      </span>
    </div>

  </div>

</div>
