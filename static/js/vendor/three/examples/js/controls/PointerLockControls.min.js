THREE.PointerLockControls=function(t){var e=this;t.rotation.set(0,0,0);var o=new THREE.Object3D;o.add(t);var n=new THREE.Object3D;n.position.y=10,n.add(o);var i,r,a=Math.PI/2,m=function(t){if(!1!==e.enabled){var i=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;n.rotation.y-=.002*i,o.rotation.x-=.002*r,o.rotation.x=Math.max(-a,Math.min(a,o.rotation.x))}};this.dispose=function(){document.removeEventListener("mousemove",m,!1)},document.addEventListener("mousemove",m,!1),this.enabled=!1,this.getObject=function(){return n},this.getDirection=(i=new THREE.Vector3(0,0,-1),r=new THREE.Euler(0,0,0,"YXZ"),function(t){return r.set(o.rotation.x,n.rotation.y,0),t.copy(i).applyEuler(r),t})};