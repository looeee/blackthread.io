THREE.HDRCubeTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.hdrLoader=new THREE.RGBELoader},THREE.HDRCubeTextureLoader.prototype.load=function(e,a,r,n,t){var i=function(e,a,r,n){var t=e[a+3],i=Math.pow(2,t-128)/255;r[n+0]=e[a+0]*i,r[n+1]=e[a+1]*i,r[n+2]=e[a+2]*i},E=function(){var e=new Float32Array(1),a=new Int32Array(e.buffer);function r(r){e[0]=r;var n=a[0],t=n>>16&32768,i=n>>12&2047,E=n>>23&255;return E<103?t:E>142?(t|=31744,t|=(255==E?0:1)&&8388607&n):E<113?t|=((i|=2048)>>114-E)+(i>>113-E&1):(t|=E-112<<10|i>>1,t+=1&i)}return function(e,a,n,t){var i=e[a+3],E=Math.pow(2,i-128)/255;n[t+0]=r(e[a+0]*E),n[t+1]=r(e[a+1]*E),n[t+2]=r(e[a+2]*E)}}(),o=new THREE.CubeTexture;o.type=e,o.encoding=e===THREE.UnsignedByteType?THREE.RGBEEncoding:THREE.LinearEncoding,o.format=e===THREE.UnsignedByteType?THREE.RGBAFormat:THREE.RGBFormat,o.minFilter=o.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,o.magFilter=o.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,o.generateMipmaps=o.encoding!==THREE.RGBEEncoding,o.anisotropy=0;var d=this.hdrLoader,R=0;function g(r,n,t,g){var T=new THREE.FileLoader(this.manager);T.setResponseType("arraybuffer"),T.load(a[r],function(a){R++;var t=d._parser(a);if(t){if(e===THREE.FloatType){for(var g=t.data.length/4*3,T=new Float32Array(g),f=0;f<g;f++)i(t.data,4*f,T,3*f);t.data=T}else if(e===THREE.HalfFloatType){g=t.data.length/4*3;var H=new Uint16Array(g);for(f=0;f<g;f++)E(t.data,4*f,H,3*f);t.data=H}if(void 0!==t.image)o[r].images=t.image;else if(void 0!==t.data){var l=new THREE.DataTexture(t.data,t.width,t.height);l.format=o.format,l.type=o.type,l.encoding=o.encoding,l.minFilter=o.minFilter,l.magFilter=o.magFilter,l.generateMipmaps=o.generateMipmaps,o.images[r]=l}6===R&&(o.needsUpdate=!0,n&&n(o))}},t,g)}for(var T=0;T<a.length;T++)g(T,r,n,t);return o};