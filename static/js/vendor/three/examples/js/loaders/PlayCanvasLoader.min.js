THREE.PlayCanvasLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.PlayCanvasLoader.prototype={constructor:THREE.PlayCanvasLoader,load:function(e,t,r,a){var o=this;new THREE.FileLoader(o.manager).load(e,function(e){t(o.parse(JSON.parse(e)))},r,a)},parse:function(e){function t(e){var t={};for(var r in e){var a,o=e[r],n=o.type,s=o.components;switch(n){case"float32":a=new THREE.Float32BufferAttribute(o.data,s);break;case"uint8":a=new THREE.Uint8BufferAttribute(o.data,s);break;case"uint16":a=new THREE.Uint16BufferAttribute(o.data,s);break;default:console.log('THREE.PlayCanvasLoader: Array type "%s" not yet supported.',n)}t[r]=a}e._attributes=t}function r(e){var t=new THREE.BufferGeometry;t.setIndex(e.indices);var r=i.vertices[e.vertices]._attributes;for(var a in r){var o=r[a];"texCoord0"===a&&(a="uv"),t.addAttribute(a,o)}e._geometry=t}function a(e){var t=new THREE.Group,r=e._geometries;if(void 0!==r)for(var a=new THREE.MeshPhongMaterial,o=0,n=r.length;o<n;o++){var s=r[o];t.add(new THREE.Mesh(s,a))}for(o=0,n=e.rotation.length;o<n;o++)e.rotation[o]*=Math.PI/180;t.name=e.name,t.position.fromArray(e.position),t.rotation.fromArray(e.rotation),t.scale.fromArray(e.scale),e._object=t}for(var o,n,s,i=e.model,d=0,f=i.vertices.length;d<f;d++)t(i.vertices[d]);for(d=0,f=i.meshes.length;d<f;d++)r(i.meshes[d]);for(d=0,f=i.meshInstances.length;d<f;d++)o=i.meshInstances[d],n=void 0,void 0,n=i.nodes[o.node],s=i.meshes[o.mesh],void 0===n._geometries&&(n._geometries=[]),n._geometries.push(s._geometry);for(d=0,f=i.nodes.length;d<f;d++)a(i.nodes[d]);for(d=0,f=i.parents.length;d<f;d++){var c=i.parents[d];-1!==c&&i.nodes[c]._object.add(i.nodes[d]._object)}return i.nodes[0]._object}};