"use strict";SEA3D.Deflate=function(){var r,t,n,e,i,f,o,u,s,l,a,h,A,w,c,b,y,m=32768,v=null,B=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),D=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0),M=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99),X=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),d=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),g=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),E=function(){this.next=null,this.list=null},k=function(){this.e=0,this.b=0,this.n=0,this.t=null},S=function(r,t,n,e,i,f){this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;var o,u,s,l,a,h,A,w,c,b,y,m,v,B,D,M,X,d=new Array(this.BMAX+1),g=new Array(this.BMAX+1),S=new k,U=new Array(this.BMAX),p=new Array(this.N_MAX),x=new Array(this.BMAX+1);for(X=this.root=null,h=0;h<d.length;h++)d[h]=0;for(h=0;h<g.length;h++)g[h]=0;for(h=0;h<U.length;h++)U[h]=null;for(h=0;h<p.length;h++)p[h]=0;for(h=0;h<x.length;h++)x[h]=0;u=t>256?r[256]:this.BMAX,c=r,b=0,h=t;do{d[c[b]]++,b++}while(--h>0);if(d[0]==t)return this.root=null,this.m=0,void(this.status=0);for(A=1;A<=this.BMAX&&0==d[A];A++);for(w=A,f<A&&(f=A),h=this.BMAX;0!=h&&0==d[h];h--);for(l=h,f>h&&(f=h),B=1<<A;A<h;A++,B<<=1)if((B-=d[A])<0)return this.status=2,void(this.m=f);if((B-=d[h])<0)return this.status=2,void(this.m=f);for(d[h]+=B,x[1]=A=0,c=d,b=1,v=2;--h>0;)x[v++]=A+=c[b++];c=r,b=0,h=0;do{0!=(A=c[b++])&&(p[x[A]++]=h)}while(++h<t);for(t=x[l],x[0]=h=0,c=p,b=0,a=-1,m=g[0]=0,y=null,D=0;w<=l;w++)for(o=d[w];o-- >0;){for(;w>m+g[1+a];){if(m+=g[1+a],a++,D=(D=l-m)>f?f:D,(s=1<<(A=w-m))>o+1)for(s-=o+1,v=w;++A<D&&!((s<<=1)<=d[++v]);)s-=d[v];for(m+A>u&&m<u&&(A=u-m),D=1<<A,g[1+a]=A,y=new Array(D),M=0;M<D;M++)y[M]=new k;(X=null==X?this.root=new E:X.next=new E).next=null,X.list=y,U[a]=y,a>0&&(x[a]=h,S.b=g[a],S.e=16+A,S.t=y,A=(h&(1<<m)-1)>>m-g[a],U[a-1][A].e=S.e,U[a-1][A].b=S.b,U[a-1][A].n=S.n,U[a-1][A].t=S.t)}for(S.b=w-m,b>=t?S.e=99:c[b]<n?(S.e=c[b]<256?16:15,S.n=c[b++]):(S.e=i[c[b]-n],S.n=e[c[b++]-n]),s=1<<w-m,A=h>>m;A<D;A+=s)y[A].e=S.e,y[A].b=S.b,y[A].n=S.n,y[A].t=S.t;for(A=1<<w-1;0!=(h&A);A>>=1)h^=A;for(h^=A;(h&(1<<m)-1)!=x[a];)m-=g[a],a--}this.m=g[1],this.status=0!=B&&1!=l?1:0},U=function(r){for(;o<r;)f|=(b.length==y?-1:b[y++])<<o,o+=8},p=function(r){return f&B[r]},x=function(r){f>>=r,o-=r},F=function(n,e,i){var f,o,s;if(0==i)return 0;for(s=0;;){for(U(w),f=(o=h.list[p(w)]).e;f>16;){if(99==f)return-1;x(o.b),U(f-=16),f=(o=o.t[p(f)]).e}if(x(o.b),16!=f){if(15==f)break;for(U(f),l=o.n+p(f),x(f),U(c),f=(o=A.list[p(c)]).e;f>16;){if(99==f)return-1;x(o.b),U(f-=16),f=(o=o.t[p(f)]).e}for(x(o.b),U(f),a=t-o.n-p(f),x(f);l>0&&s<i;)l--,a&=m-1,t&=m-1,n[e+s++]=r[t++]=r[a++];if(s==i)return i}else if(t&=m-1,n[e+s++]=r[t++]=o.n,s==i)return i}return u=-1,s},H=function(n,e,i){var s;if(x(s=7&o),U(16),s=p(16),x(16),U(16),s!=(65535&~f))return-1;for(x(16),l=s,s=0;l>0&&s<i;)l--,t&=m-1,U(8),n[e+s++]=r[t++]=p(8),x(8);return 0==l&&(u=-1),s},N=function(r,t,f){if(null==v){var o,u,s=new Array(288);for(o=0;o<144;o++)s[o]=8;for(;o<256;o++)s[o]=9;for(;o<280;o++)s[o]=7;for(;o<288;o++)s[o]=8;if(0!=(u=new S(s,288,257,D,M,e=7)).status)return alert("HufBuild error: "+u.status),-1;for(v=u.root,e=u.m,o=0;o<30;o++)s[o]=5;if((u=new S(s,30,0,X,d,i=5)).status>1)return v=null,alert("HufBuild error: "+u.status),-1;n=u.root,i=u.m}return h=v,A=n,w=e,c=i,F(r,t,f)},_=function(r,t,n){var e,i,f,o,u,s,l,a,b,y=new Array(316);for(e=0;e<y.length;e++)y[e]=0;if(U(5),l=257+p(5),x(5),U(5),a=1+p(5),x(5),U(4),s=4+p(4),x(4),l>286||a>30)return-1;for(i=0;i<s;i++)U(3),y[g[i]]=p(3),x(3);for(;i<19;i++)y[g[i]]=0;if(0!=(b=new S(y,19,19,null,null,w=7)).status)return-1;for(h=b.root,w=b.m,o=l+a,e=f=0;e<o;)if(U(w),i=(u=h.list[p(w)]).b,x(i),(i=u.n)<16)y[e++]=f=i;else if(16==i){if(U(2),i=3+p(2),x(2),e+i>o)return-1;for(;i-- >0;)y[e++]=f}else if(17==i){if(U(3),i=3+p(3),x(3),e+i>o)return-1;for(;i-- >0;)y[e++]=0;f=0}else{if(U(7),i=11+p(7),x(7),e+i>o)return-1;for(;i-- >0;)y[e++]=0;f=0}if(b=new S(y,l,257,D,M,w=9),0==w&&(b.status=1),0!=b.status)return-1;for(h=b.root,w=b.m,e=0;e<a;e++)y[e]=y[e+l];return b=new S(y,a,0,X,d,c=6),A=b.root,0==(c=b.m)&&l>257?-1:0!=b.status?-1:F(r,t,n)},j=function(n,e,i){var f,o;for(f=0;f<i;){if(s&&-1==u)return f;if(l>0){if(0!=u)for(;l>0&&f<i;)l--,a&=m-1,t&=m-1,n[e+f++]=r[t++]=r[a++];else{for(;l>0&&f<i;)l--,t&=m-1,U(8),n[e+f++]=r[t++]=p(8),x(8);0==l&&(u=-1)}if(f==i)return f}if(-1==u){if(s)break;U(1),0!=p(1)&&(s=!0),x(1),U(2),u=p(2),x(2),h=null,l=0}switch(u){case 0:o=H(n,e+f,i-f);break;case 1:o=null!=h?F(n,e+f,i-f):N(n,e+f,i-f);break;case 2:o=null!=h?F(n,e+f,i-f):_(n,e+f,i-f);break;default:o=-1}if(-1==o)return s?0:-1;f+=o}return f};return{inflate:function(n){var e,i,A=0;null==r&&(r=new Array(2*m)),t=0,f=0,o=0,u=-1,s=!1,l=a=0,h=null,b=new Uint8Array(n),y=0;for(var w=new Uint8Array(1024),c=[];(e=j(w,0,w.length))>0;)for(i=0;i<e;i++)c[A++]=w[i];return b=null,new Uint8Array(c).buffer}}}(),SEA3D.File.DeflateUncompress=function(r){return SEA3D.Deflate.inflate(r)},SEA3D.File.setDecompressionEngine(1,"deflate",SEA3D.File.DeflateUncompress);