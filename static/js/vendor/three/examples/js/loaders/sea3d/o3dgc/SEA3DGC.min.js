"use strict";SEA3D.GeometryGC=function(t,e,r){var i;this.name=t,this.data=e,this.sea3d=r;var o,s,a=e.readUShort(),n=[];if(this.isBig=0!=(1&a),e.readVInt=this.isBig?e.readUInt:e.readUShort,2&a){this.groups=[];var h=e.readUByte(),d=0;for(i=0;i<h;i++){var y=3*e.readVInt();this.groups.push({start:d,count:y}),d+=y}}else this.groups=[];if(4&a){this.uv=[];var u=e.readUByte();for(i=0;i<u;i++)n[i]=e.readUByte()}32&a&&(o=e.readUByte(),s=e.readUByte());var l=e.readUInt(),S=e.concat(e.position,l),p=new o3dgc.BinaryStream(S.buffer),A=new o3dgc.SC3DMCDecoder,g=new o3dgc.IndexedFaceSet;A.DecodeHeader(g,p);var c=g.GetNCoordIndex(),f=g.GetNCoord();for(this.groups.length||this.groups.push({start:0,count:3*c}),this.indexes=this.isBig?new Uint32Array(3*c):new Uint16Array(3*c),this.vertex=new Float32Array(3*f),g.SetCoordIndex(this.indexes),g.SetCoord(this.vertex),g.GetNNormal()>0&&(this.normal=new Float32Array(3*f),g.SetNormal(this.normal)),i=0;i<n.length;i++)this.uv[i]=new Float32Array(2*f),g.SetFloatAttribute(n[i],this.uv[i]);void 0!==o&&(this.jointPerVertex=g.GetIntAttributeDim(o),this.joint=new Uint16Array(f*this.jointPerVertex),this.weight=new Float32Array(f*this.jointPerVertex),g.SetIntAttribute(o,this.joint),g.SetFloatAttribute(s,this.weight)),A.DecodePlayload(g,p)},SEA3D.GeometryGC.prototype.type="s3D",THREE.SEA3D.EXTENSIONS_LOADER.push({setTypeRead:function(){this.file.addClass(SEA3D.GeometryGC,!0),this.file.typeRead[SEA3D.GeometryGC.prototype.type]=this.readGeometryBuffer}});