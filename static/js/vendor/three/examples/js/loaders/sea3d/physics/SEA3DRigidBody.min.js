"use strict";SEA3D.Sphere=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.radius=a.readFloat()},SEA3D.Sphere.prototype.type="sph",SEA3D.Box=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.width=a.readFloat(),this.height=a.readFloat(),this.depth=a.readFloat()},SEA3D.Box.prototype.type="box",SEA3D.Cone=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.radius=a.readFloat(),this.height=a.readFloat()},SEA3D.Cone.prototype.type="cone",SEA3D.Capsule=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.radius=a.readFloat(),this.height=a.readFloat()},SEA3D.Capsule.prototype.type="cap",SEA3D.Cylinder=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.radius=a.readFloat(),this.height=a.readFloat()},SEA3D.Cylinder.prototype.type="cyl",SEA3D.ConvexGeometry=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.geometry=i.getObject(a.readUInt()),this.subGeometryIndex=a.readUByte()},SEA3D.ConvexGeometry.prototype.type="gs",SEA3D.TriangleGeometry=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.geometry=i.getObject(a.readUInt()),this.subGeometryIndex=a.readUByte()},SEA3D.TriangleGeometry.prototype.type="sgs",SEA3D.Compound=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.compounds=[];for(var e=a.readUByte(),s=0;s<e;s++)this.compounds.push({shape:i.getObject(a.readUInt()),transform:a.readMatrix()})},SEA3D.Compound.prototype.type="cmps",SEA3D.Physics=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.attrib=a.readUShort(),this.shape=i.getObject(a.readUInt()),1&this.attrib?this.target=i.getObject(a.readUInt()):this.transform=a.readMatrix(),2&this.attrib&&(this.offset=a.readMatrix()),4&this.attrib&&(this.scripts=a.readScriptList(i)),16&this.attrib&&(this.attributes=i.getObject(a.readUInt()))},SEA3D.Physics.prototype.readTag=function(t,a,i){},SEA3D.RigidBodyBase=function(t,a,i){SEA3D.Physics.call(this,t,a,i),32&this.attrib?(this.linearDamping=a.readFloat(),this.angularDamping=a.readFloat()):(this.linearDamping=0,this.angularDamping=0),this.mass=a.readFloat(),this.friction=a.readFloat(),this.restitution=a.readFloat()},SEA3D.RigidBodyBase.prototype=Object.create(SEA3D.Physics.prototype),SEA3D.RigidBodyBase.prototype.constructor=SEA3D.RigidBodyBase,SEA3D.RigidBody=function(t,a,i){SEA3D.RigidBodyBase.call(this,t,a,i),a.readTags(this.readTag.bind(this))},SEA3D.RigidBody.prototype=Object.create(SEA3D.RigidBodyBase.prototype),SEA3D.RigidBody.prototype.constructor=SEA3D.RigidBody,SEA3D.RigidBody.prototype.type="rb",SEA3D.CarController=function(t,a,i){SEA3D.RigidBodyBase.call(this,t,a,i),this.suspensionStiffness=a.readFloat(),this.suspensionCompression=a.readFloat(),this.suspensionDamping=a.readFloat(),this.maxSuspensionTravelCm=a.readFloat(),this.frictionSlip=a.readFloat(),this.maxSuspensionForce=a.readFloat(),this.dampingCompression=a.readFloat(),this.dampingRelaxation=a.readFloat();var e=a.readUByte();this.wheel=[];for(var s=0;s<e;s++)this.wheel[s]=new SEA3D.CarController.Wheel(a,i);a.readTags(this.readTag.bind(this))},SEA3D.CarController.Wheel=function(t,a){this.data=t,this.sea3d=a,this.attrib=t.readUShort(),this.isFront=0!=(1&this.attrib),2&this.attrib&&(this.target=a.getObject(t.readUInt())),4&this.attrib&&(this.offset=t.readMatrix()),this.pos=t.readVector3(),this.dir=t.readVector3(),this.axle=t.readVector3(),this.radius=t.readFloat(),this.suspensionRestLength=t.readFloat()},SEA3D.CarController.prototype=Object.create(SEA3D.RigidBodyBase.prototype),SEA3D.CarController.prototype.constructor=SEA3D.CarController,SEA3D.CarController.prototype.type="carc",SEA3D.Constraints=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,this.attrib=a.readUShort(),this.disableCollisionsBetweenBodies=!0&this.attrib,this.targetA=i.getObject(a.readUInt()),this.pointA=a.readVector3(),2&this.attrib&&(this.targetB=i.getObject(a.readUInt()),this.pointB=a.readVector3())},SEA3D.P2PConstraint=function(t,a,i){this.name=t,this.data=a,this.sea3d=i,SEA3D.Constraints.call(this,t,a,i)},SEA3D.P2PConstraint.prototype=Object.create(SEA3D.Constraints.prototype),SEA3D.P2PConstraint.prototype.constructor=SEA3D.P2PConstraint,SEA3D.P2PConstraint.prototype.type="p2pc",SEA3D.HingeConstraint=function(t,a,i){SEA3D.Constraints.call(this,t,a,i),this.axisA=a.readVector3(),1&this.attrib&&(this.axisB=a.readVector3()),4&this.attrib&&(this.limit={low:a.readFloat(),high:a.readFloat(),softness:a.readFloat(),biasFactor:a.readFloat(),relaxationFactor:a.readFloat()}),8&this.attrib&&(this.angularMotor={velocity:a.readFloat(),impulse:a.readFloat()})},SEA3D.HingeConstraint.prototype=Object.create(SEA3D.Constraints.prototype),SEA3D.HingeConstraint.prototype.constructor=SEA3D.HingeConstraint,SEA3D.HingeConstraint.prototype.type="hnec",SEA3D.ConeTwistConstraint=function(t,a,i){SEA3D.Constraints.call(this,t,a,i),this.axisA=a.readVector3(),1&this.attrib&&(this.axisB=a.readVector3()),4&this.attrib&&(this.limit={swingSpan1:a.readFloat(),swingSpan2:a.readFloat(),twistSpan:a.readFloat(),softness:a.readFloat(),biasFactor:a.readFloat(),relaxationFactor:a.readFloat()})},SEA3D.ConeTwistConstraint.prototype=Object.create(SEA3D.Constraints.prototype),SEA3D.ConeTwistConstraint.prototype.constructor=SEA3D.ConeTwistConstraint,SEA3D.ConeTwistConstraint.prototype.type="ctwc",SEA3D.File.setExtension(function(){this.addClass(SEA3D.Sphere),this.addClass(SEA3D.Box),this.addClass(SEA3D.Cone),this.addClass(SEA3D.Capsule),this.addClass(SEA3D.Cylinder),this.addClass(SEA3D.ConvexGeometry),this.addClass(SEA3D.TriangleGeometry),this.addClass(SEA3D.Compound),this.addClass(SEA3D.RigidBody),this.addClass(SEA3D.P2PConstraint),this.addClass(SEA3D.HingeConstraint),this.addClass(SEA3D.ConeTwistConstraint),this.addClass(SEA3D.CarController)});