!function(r){"use strict";var e=null;function t(){if(null===e){var r=new ArrayBuffer(2),t=new Uint8Array(r),n=new Uint16Array(r);t[0]=170,t[1]=187,e=43707===n[0]}return e}var n=[null,Float32Array,null,Int8Array,Int16Array,null,Int32Array,Uint8Array,Uint16Array,null,Uint32Array],a={Uint16Array:"getUint16",Uint32Array:"getUint32",Int16Array:"getInt16",Int32Array:"getInt32",Float32Array:"getFloat32",Float64Array:"getFloat64"};function i(r,e,n,i,o){var u,l=e.BYTES_PER_ELEMENT;if(o===t()||1===l)u=new e(r,n,i);else{var d=new DataView(r,n,i*l),f=a[e.name],s=!o,c=0;for(u=new e(i);c<i;c++)u[c]=d[f](c*l,s)}return u}r.PRWMLoader=function(e){this.manager=void 0!==e?e:r.DefaultLoadingManager},r.PRWMLoader.prototype={constructor:r.PRWMLoader,load:function(e,n,a,i){var o=this,u=new r.FileLoader(o.manager);u.setResponseType("arraybuffer"),e=e.replace(/\*/g,t()?"be":"le"),u.load(e,function(r){n(o.parse(r))},a,i)},parse:function(e){console.time("PRWMLoader");var t,a,o=function(r){var e=new Uint8Array(r),t=e[0],a=e[1],o=!!(a>>7&1),u=a>>6&1,l=1==(a>>5&1),d=31&a,f=0,s=0;if(l?(f=(e[2]<<16)+(e[3]<<8)+e[4],s=(e[5]<<16)+(e[6]<<8)+e[7]):(f=e[2]+(e[3]<<8)+(e[4]<<16),s=e[5]+(e[6]<<8)+(e[7]<<16)),0===t)throw new Error("PRWM decoder: Invalid format version: 0");if(1!==t)throw new Error("PRWM decoder: Unsupported format version: "+t);if(!o){if(0!==u)throw new Error("PRWM decoder: Indices type must be set to 0 for non-indexed geometries");if(0!==s)throw new Error("PRWM decoder: Number of indices must be set to 0 for non-indexed geometries")}var c,y,A,w,E,g,m,v,M=8,R={};for(v=0;v<d;v++){for(c="";M<e.length&&(y=e[M],M++,0!==y);)c+=String.fromCharCode(y);A=(a=e[M])>>7&1,w=1+(a>>4&3),M++,g=i(r,E=n[15&a],M=4*Math.ceil(M/4),w*f,l),M+=E.BYTES_PER_ELEMENT*w*f,R[c]={type:A,cardinality:w,values:g}}return M=4*Math.ceil(M/4),m=null,o&&(m=i(r,1===u?Uint32Array:Uint16Array,M,s,l)),{version:t,attributes:R,indices:m}}(e),u=Object.keys(o.attributes),l=new r.BufferGeometry;for(a=0;a<u.length;a++)t=o.attributes[u[a]],l.addAttribute(u[a],new r.BufferAttribute(t.values,t.cardinality,t.normalized));return null!==o.indices&&l.setIndex(new r.BufferAttribute(o.indices,1)),console.timeEnd("PRWMLoader"),l}},r.PRWMLoader.isBigEndianPlatform=function(){return t()}}(THREE);