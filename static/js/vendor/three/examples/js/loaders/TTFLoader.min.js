THREE.TTFLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.reversed=!1},THREE.TTFLoader.prototype={constructor:THREE.TTFLoader,load:function(e,o,n,a){var r=this,t=new THREE.FileLoader(this.manager);t.setResponseType("arraybuffer"),t.load(e,function(e){o(r.parse(e))},n,a)},parse:function(e){function o(e){var o,n=[];e.forEach(function(e){"m"===e.type.toLowerCase()?(o=[e],n.push(o)):"z"!==e.type.toLowerCase()&&o.push(e)});var a=[];return n.forEach(function(e){var o={type:"m",x:e[e.length-1].x,y:e[e.length-1].y};a.push(o);for(var n=e.length-1;n>0;n--){var r=e[n];o={type:r.type};void 0!==r.x2&&void 0!==r.y2?(o.x1=r.x2,o.y1=r.y2,o.x2=r.x1,o.y2=r.y1):void 0!==r.x1&&void 0!==r.y1&&(o.x1=r.x1,o.y1=r.y1),o.x=e[n-1].x,o.y=e[n-1].y,a.push(o)}}),a}return"undefined"==typeof opentype?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):function(e,n){for(var a=Math.round,r={},t=1e5/(72*(e.unitsPerEm||2048)),i=0;i<e.glyphs.length;i++){var s=e.glyphs.glyphs[i];if(void 0!==s.unicode){var d={ha:a(s.advanceWidth*t),x_min:a(s.xMin*t),x_max:a(s.xMax*t),o:""};n&&(s.path.commands=o(s.path.commands)),s.path.commands.forEach(function(e,o){"c"===e.type.toLowerCase()&&(e.type="b"),d.o+=e.type.toLowerCase()+" ",void 0!==e.x&&void 0!==e.y&&(d.o+=a(e.x*t)+" "+a(e.y*t)+" "),void 0!==e.x1&&void 0!==e.y1&&(d.o+=a(e.x1*t)+" "+a(e.y1*t)+" "),void 0!==e.x2&&void 0!==e.y2&&(d.o+=a(e.x2*t)+" "+a(e.y2*t)+" ")}),r[String.fromCharCode(s.unicode)]=d}}return{glyphs:r,familyName:e.familyName,ascender:a(e.ascender*t),descender:a(e.descender*t),underlinePosition:e.tables.post.underlinePosition,underlineThickness:e.tables.post.underlineThickness,boundingBox:{xMin:e.tables.head.xMin,xMax:e.tables.head.xMax,yMin:e.tables.head.yMin,yMax:e.tables.head.yMax},resolution:1e3,original_font_information:e.tables.name}}(opentype.parse(e),this.reversed)}};