THREE.BinaryLoader=function(r){"boolean"==typeof r&&(console.warn("THREE.BinaryLoader: showStatus parameter has been removed from constructor."),r=void 0),this.manager=void 0!==r?r:THREE.DefaultLoadingManager},THREE.BinaryLoader.prototype={constructor:THREE.BinaryLoader,crossOrigin:"Anonymous",load:function(r,n,t,e){var a=this.texturePath||THREE.LoaderUtils.extractUrlBase(r),E=this.binaryPath||THREE.LoaderUtils.extractUrlBase(r),o=this;new THREE.FileLoader(this.manager).load(r,function(r){var i=JSON.parse(r),_=E+i.buffers,s=new THREE.FileLoader(o.manager);s.setResponseType("arraybuffer"),s.load(_,function(r){o.parse(r,n,a,i.materials)},t,e)},t,e)},setBinaryPath:function(r){this.binaryPath=r},setCrossOrigin:function(r){this.crossOrigin=r},setTexturePath:function(r){this.texturePath=r},parse:function(r,n,t,e){var a=function(){var n,t,e,a,E,o,i,_,s,u,c,f,T,y,l,v,R,d,h,w,U,A,H,m=this,L=0,p=[],x=[];function b(r){return r%4?4-r%4:0}function B(r,n){return new Uint8Array(r,n,1)[0]}function P(r,n){return new Uint32Array(r,n,1)[0]}function V(n,t){var e,a,E,o,i,_,s,u,c,f,T=new Uint32Array(r,t,3*n);for(e=0;e<n;e++)a=T[3*e],E=T[3*e+1],o=T[3*e+2],i=x[2*a],u=x[2*a+1],_=x[2*E],c=x[2*E+1],s=x[2*o],f=x[2*o+1],m.faceVertexUvs[0].push([new THREE.Vector2(i,u),new THREE.Vector2(_,c),new THREE.Vector2(s,f)])}function M(n,t){var e,a,E,o,i,_,s,u,c,f,T,y,l,v=new Uint32Array(r,t,4*n);for(e=0;e<n;e++)a=v[4*e],E=v[4*e+1],o=v[4*e+2],i=v[4*e+3],_=x[2*a],f=x[2*a+1],s=x[2*E],T=x[2*E+1],u=x[2*o],y=x[2*o+1],c=x[2*i],l=x[2*i+1],m.faceVertexUvs[0].push([new THREE.Vector2(_,f),new THREE.Vector2(s,T),new THREE.Vector2(c,l)]),m.faceVertexUvs[0].push([new THREE.Vector2(s,T),new THREE.Vector2(u,y),new THREE.Vector2(c,l)])}function N(n,t,e){var a,E,o,i,_,s=new Uint32Array(r,t,3*n),u=new Uint16Array(r,e,n);for(a=0;a<n;a++)E=s[3*a],o=s[3*a+1],i=s[3*a+2],_=u[a],m.faces.push(new THREE.Face3(E,o,i,null,null,_))}function S(n,t,e){var a,E,o,i,_,s,u=new Uint32Array(r,t,4*n),c=new Uint16Array(r,e,n);for(a=0;a<n;a++)E=u[4*a],o=u[4*a+1],i=u[4*a+2],_=u[4*a+3],s=c[a],m.faces.push(new THREE.Face3(E,o,_,null,null,s)),m.faces.push(new THREE.Face3(o,i,_,null,null,s))}function Y(n,t,e,a){var E,o,i,_,s,u,c,f,T=new Uint32Array(r,t,3*n),y=new Uint32Array(r,e,3*n),l=new Uint16Array(r,a,n);for(E=0;E<n;E++){o=T[3*E],i=T[3*E+1],_=T[3*E+2],u=y[3*E],c=y[3*E+1],f=y[3*E+2],s=l[E];var v=p[3*u],R=p[3*u+1],d=p[3*u+2],h=p[3*c],w=p[3*c+1],U=p[3*c+2],A=p[3*f],H=p[3*f+1],L=p[3*f+2];m.faces.push(new THREE.Face3(o,i,_,[new THREE.Vector3(v,R,d),new THREE.Vector3(h,w,U),new THREE.Vector3(A,H,L)],null,s))}}function q(n,t,e,a){var E,o,i,_,s,u,c,f,T,y,l=new Uint32Array(r,t,4*n),v=new Uint32Array(r,e,4*n),R=new Uint16Array(r,a,n);for(E=0;E<n;E++){o=l[4*E],i=l[4*E+1],_=l[4*E+2],s=l[4*E+3],c=v[4*E],f=v[4*E+1],T=v[4*E+2],y=v[4*E+3],u=R[E];var d=p[3*c],h=p[3*c+1],w=p[3*c+2],U=p[3*f],A=p[3*f+1],H=p[3*f+2],L=p[3*T],x=p[3*T+1],b=p[3*T+2],B=p[3*y],P=p[3*y+1],V=p[3*y+2];m.faces.push(new THREE.Face3(o,i,s,[new THREE.Vector3(d,h,w),new THREE.Vector3(U,A,H),new THREE.Vector3(B,P,V)],null,u)),m.faces.push(new THREE.Face3(i,_,s,[new THREE.Vector3(U,A,H),new THREE.Vector3(L,x,b),new THREE.Vector3(B,P,V)],null,u))}}THREE.Geometry.call(this),L+=(n={signature:(U=h=r,A=w=L,H=12,THREE.LoaderUtils.decodeText(new Uint8Array(U,A,H))),header_bytes:B(h,w+12),vertex_coordinate_bytes:B(h,w+13),normal_coordinate_bytes:B(h,w+14),uv_coordinate_bytes:B(h,w+15),vertex_index_bytes:B(h,w+16),normal_index_bytes:B(h,w+17),uv_index_bytes:B(h,w+18),material_index_bytes:B(h,w+19),nvertices:P(h,w+20),nnormals:P(h,w+20+4),nuvs:P(h,w+20+8),ntri_flat:P(h,w+20+12),ntri_smooth:P(h,w+20+16),ntri_flat_uv:P(h,w+20+20),ntri_smooth_uv:P(h,w+20+24),nquad_flat:P(h,w+20+28),nquad_smooth:P(h,w+20+32),nquad_flat_uv:P(h,w+20+36),nquad_smooth_uv:P(h,w+20+40)}).header_bytes,u=3*n.vertex_index_bytes+n.material_index_bytes,c=4*n.vertex_index_bytes+n.material_index_bytes,f=n.ntri_flat*u,T=n.ntri_smooth*(u+3*n.normal_index_bytes),y=n.ntri_flat_uv*(u+3*n.uv_index_bytes),l=n.ntri_smooth_uv*(u+3*n.normal_index_bytes+3*n.uv_index_bytes),v=n.nquad_flat*c,R=n.nquad_smooth*(c+4*n.normal_index_bytes),d=n.nquad_flat_uv*(c+4*n.uv_index_bytes),L+=function(t){var e,a,E,o,i=n.nvertices,_=new Float32Array(r,t,3*i);for(e=0;e<i;e++)a=_[3*e],E=_[3*e+1],o=_[3*e+2],m.vertices.push(new THREE.Vector3(a,E,o));return 3*i*Float32Array.BYTES_PER_ELEMENT}(L),L+=function(t){var e=n.nnormals;if(e){var a,E,o,i,_=new Int8Array(r,t,3*e);for(a=0;a<e;a++)E=_[3*a],o=_[3*a+1],i=_[3*a+2],p.push(E/127,o/127,i/127)}return 3*e*Int8Array.BYTES_PER_ELEMENT}(L),L+=b(3*n.nnormals),s=(_=(i=(o=(E=(a=(e=(t=L+=function(t){var e=n.nuvs;if(e){var a,E,o,i=new Float32Array(r,t,2*e);for(a=0;a<e;a++)E=i[2*a],o=i[2*a+1],x.push(E,o)}return 2*e*Float32Array.BYTES_PER_ELEMENT}(L))+f+b(2*n.ntri_flat))+T+b(2*n.ntri_smooth))+y+b(2*n.ntri_flat_uv))+l+b(2*n.ntri_smooth_uv))+v+b(2*n.nquad_flat))+R+b(2*n.nquad_smooth))+d+b(2*n.nquad_flat_uv),function(r){var t=n.ntri_flat_uv;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*3,a=e+t*Uint32Array.BYTES_PER_ELEMENT*3;N(t,r,a),V(t,e)}}(a),function(r){var t=n.ntri_smooth_uv;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*3,a=e+t*Uint32Array.BYTES_PER_ELEMENT*3,E=a+t*Uint32Array.BYTES_PER_ELEMENT*3;Y(t,r,e,E),V(t,a)}}(E),function(r){var t=n.nquad_flat_uv;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*4,a=e+t*Uint32Array.BYTES_PER_ELEMENT*4;S(t,r,a),M(t,e)}}(_),function(r){var t=n.nquad_smooth_uv;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*4,a=e+t*Uint32Array.BYTES_PER_ELEMENT*4,E=a+t*Uint32Array.BYTES_PER_ELEMENT*4;q(t,r,e,E),M(t,a)}}(s),function(r){var t=n.ntri_flat;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*3;N(t,r,e)}}(t),function(r){var t=n.ntri_smooth;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*3,a=e+t*Uint32Array.BYTES_PER_ELEMENT*3;Y(t,r,e,a)}}(e),function(r){var t=n.nquad_flat;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*4;S(t,r,e)}}(o),function(r){var t=n.nquad_smooth;if(t){var e=r+t*Uint32Array.BYTES_PER_ELEMENT*4,a=e+t*Uint32Array.BYTES_PER_ELEMENT*4;q(t,r,e,a)}}(i),this.computeFaceNormals()};(a.prototype=Object.create(THREE.Geometry.prototype)).constructor=a,n(new a,THREE.Loader.prototype.initMaterials(e,t,this.crossOrigin))}};