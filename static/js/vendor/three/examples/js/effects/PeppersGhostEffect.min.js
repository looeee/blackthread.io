THREE.PeppersGhostEffect=function(e){var t,r,o,i=this;i.cameraDistance=15,i.reflectFromAbove=!1;var n=new THREE.PerspectiveCamera,a=new THREE.PerspectiveCamera,s=new THREE.PerspectiveCamera,c=new THREE.PerspectiveCamera,p=new THREE.Vector3,l=new THREE.Quaternion,E=new THREE.Vector3;e.autoClear=!1,this.setSize=function(i,n){t=i/2,i<n?(r=i/3,o=i/3):(r=n/3,o=n/3),e.setSize(i,n)},this.render=function(m,d){m.updateMatrixWorld(),null===d.parent&&d.updateMatrixWorld(),d.matrixWorld.decompose(p,l,E),n.position.copy(p),n.quaternion.copy(l),n.translateZ(i.cameraDistance),n.lookAt(m.position),a.position.copy(p),a.quaternion.copy(l),a.translateZ(-i.cameraDistance),a.lookAt(m.position),a.rotation.z+=Math.PI/180*180,s.position.copy(p),s.quaternion.copy(l),s.translateX(-i.cameraDistance),s.lookAt(m.position),s.rotation.x+=Math.PI/180*90,c.position.copy(p),c.quaternion.copy(l),c.translateX(i.cameraDistance),c.lookAt(m.position),c.rotation.x+=Math.PI/180*90,e.clear(),e.setScissorTest(!0),e.setScissor(t-r/2,2*o,r,o),e.setViewport(t-r/2,2*o,r,o),i.reflectFromAbove?e.render(m,a):e.render(m,n),e.setScissor(t-r/2,0,r,o),e.setViewport(t-r/2,0,r,o),i.reflectFromAbove?e.render(m,n):e.render(m,a),e.setScissor(t-r/2-r,o,r,o),e.setViewport(t-r/2-r,o,r,o),i.reflectFromAbove?e.render(m,c):e.render(m,s),e.setScissor(t+r/2,o,r,o),e.setViewport(t+r/2,o,r,o),i.reflectFromAbove?e.render(m,s):e.render(m,c),e.setScissorTest(!1)}};