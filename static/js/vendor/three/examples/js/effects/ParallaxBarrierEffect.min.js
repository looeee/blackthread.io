THREE.ParallaxBarrierEffect=function(e){var r=new THREE.OrthographicCamera(-1,1,1,-1,0,1),t=new THREE.Scene,a=new THREE.StereoCamera,i={minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat},n=new THREE.WebGLRenderTarget(512,512,i),o=new THREE.WebGLRenderTarget(512,512,i),v=new THREE.ShaderMaterial({uniforms:{mapLeft:{value:n.texture},mapRight:{value:o.texture}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = vec2( uv.x, uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","varying vec2 vUv;","void main() {","\tvec2 uv = vUv;","\tif ( ( mod( gl_FragCoord.y, 2.0 ) ) > 1.00 ) {","\t\tgl_FragColor = texture2D( mapLeft, uv );","\t} else {","\t\tgl_FragColor = texture2D( mapRight, uv );","\t}","}"].join("\n")}),l=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),v);t.add(l),this.setSize=function(r,t){e.setSize(r,t);var a=e.getPixelRatio();n.setSize(r*a,t*a),o.setSize(r*a,t*a)},this.render=function(i,v){i.updateMatrixWorld(),null===v.parent&&v.updateMatrixWorld(),a.update(v),e.render(i,a.cameraL,n,!0),e.render(i,a.cameraR,o,!0),e.render(t,r)}};