THREE.TessellateModifier=function(e){this.maxEdgeLength=e},THREE.TessellateModifier.prototype.modify=function(e){for(var o,r=[],l=[],t=this.maxEdgeLength*this.maxEdgeLength,c=0,s=e.faceVertexUvs.length;c<s;c++)l[c]=[];for(c=0,s=e.faces.length;c<s;c++){var v=e.faces[c];if(v instanceof THREE.Face3){var a=v.a,n=v.b,x=v.c,p=e.vertices[a],f=e.vertices[n],i=e.vertices[x],h=p.distanceToSquared(f),m=f.distanceToSquared(i),C=p.distanceToSquared(i);if(h>t||m>t||C>t){var N=e.vertices.length,g=v.clone(),y=v.clone();if(h>=m&&h>=C){if((d=p.clone()).lerp(f,.5),g.a=a,g.b=N,g.c=x,y.a=N,y.b=n,y.c=x,3===v.vertexNormals.length)(u=v.vertexNormals[0].clone()).lerp(v.vertexNormals[1],.5),g.vertexNormals[1].copy(u),y.vertexNormals[0].copy(u);if(3===v.vertexColors.length)(E=v.vertexColors[0].clone()).lerp(v.vertexColors[1],.5),g.vertexColors[1].copy(E),y.vertexColors[0].copy(E);o=0}else if(m>=h&&m>=C){if((d=f.clone()).lerp(i,.5),g.a=a,g.b=n,g.c=N,y.a=N,y.b=x,y.c=a,3===v.vertexNormals.length)(u=v.vertexNormals[1].clone()).lerp(v.vertexNormals[2],.5),g.vertexNormals[2].copy(u),y.vertexNormals[0].copy(u),y.vertexNormals[1].copy(v.vertexNormals[2]),y.vertexNormals[2].copy(v.vertexNormals[0]);if(3===v.vertexColors.length)(E=v.vertexColors[1].clone()).lerp(v.vertexColors[2],.5),g.vertexColors[2].copy(E),y.vertexColors[0].copy(E),y.vertexColors[1].copy(v.vertexColors[2]),y.vertexColors[2].copy(v.vertexColors[0]);o=1}else{var d,u,E;if((d=p.clone()).lerp(i,.5),g.a=a,g.b=n,g.c=N,y.a=N,y.b=n,y.c=x,3===v.vertexNormals.length)(u=v.vertexNormals[0].clone()).lerp(v.vertexNormals[2],.5),g.vertexNormals[2].copy(u),y.vertexNormals[0].copy(u);if(3===v.vertexColors.length)(E=v.vertexColors[0].clone()).lerp(v.vertexColors[2],.5),g.vertexColors[2].copy(E),y.vertexColors[0].copy(E);o=2}r.push(g,y),e.vertices.push(d);for(var T=0,b=e.faceVertexUvs.length;T<b;T++)if(e.faceVertexUvs[T].length){var U=e.faceVertexUvs[T][c],V=U[0],q=U[1],H=U[2];if(0===o){(S=V.clone()).lerp(q,.5);var L=[V.clone(),S.clone(),H.clone()],R=[S.clone(),q.clone(),H.clone()]}else if(1===o){(S=q.clone()).lerp(H,.5);L=[V.clone(),q.clone(),S.clone()],R=[S.clone(),H.clone(),V.clone()]}else{var S;(S=V.clone()).lerp(H,.5);L=[V.clone(),q.clone(),S.clone()],R=[S.clone(),q.clone(),H.clone()]}l[T].push(L,R)}}else{r.push(v);for(T=0,b=e.faceVertexUvs.length;T<b;T++)l[T].push(e.faceVertexUvs[T][c])}}}e.faces=r,e.faceVertexUvs=l};