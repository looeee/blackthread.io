THREE.BufferGeometryUtils={computeTangents:function(r){var e=r.index,t=r.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var o=e.array,n=t.position.array,a=t.normal.array,E=t.uv.array,c=n.length/3;void 0===t.tangent&&r.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*c),4));for(var y=t.tangent.array,i=[],f=[],u=0;u<c;u++)i[u]=new THREE.Vector3,f[u]=new THREE.Vector3;var d=new THREE.Vector3,s=new THREE.Vector3,T=new THREE.Vector3,l=new THREE.Vector2,m=new THREE.Vector2,w=new THREE.Vector2,H=new THREE.Vector3,R=new THREE.Vector3,v=r.groups;0===v.length&&(v=[{start:0,count:o.length}]);for(var V=0,g=v.length;V<g;++V)for(var x=M=(F=v[V]).start,A=M+F.count;x<A;x+=3)S(o[x+0],o[x+1],o[x+2]);var p,z,b,h=new THREE.Vector3,B=new THREE.Vector3,G=new THREE.Vector3,q=new THREE.Vector3;for(V=0,g=v.length;V<g;++V){var F,M;for(x=M=(F=v[V]).start,A=M+F.count;x<A;x+=3)U(o[x+0]),U(o[x+1]),U(o[x+2])}}else console.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function S(r,e,t){d.fromArray(n,3*r),s.fromArray(n,3*e),T.fromArray(n,3*t),l.fromArray(E,2*r),m.fromArray(E,2*e),w.fromArray(E,2*t);var o=s.x-d.x,a=T.x-d.x,c=s.y-d.y,y=T.y-d.y,u=s.z-d.z,v=T.z-d.z,V=m.x-l.x,g=w.x-l.x,x=m.y-l.y,A=w.y-l.y,p=1/(V*A-g*x);H.set((A*o-x*a)*p,(A*c-x*y)*p,(A*u-x*v)*p),R.set((V*a-g*o)*p,(V*y-g*c)*p,(V*v-g*u)*p),i[r].add(H),i[e].add(H),i[t].add(H),f[r].add(R),f[e].add(R),f[t].add(R)}function U(r){G.fromArray(a,3*r),q.copy(G),z=i[r],h.copy(z),h.sub(G.multiplyScalar(G.dot(z))).normalize(),B.crossVectors(q,z),b=B.dot(f[r]),p=b<0?-1:1,y[4*r]=h.x,y[4*r+1]=h.y,y[4*r+2]=h.z,y[4*r+3]=p}}};