THREE.ConstNode=function(t,e){THREE.TempNode.call(this),this.eval(t||THREE.ConstNode.PI,e)},THREE.ConstNode.PI="PI",THREE.ConstNode.PI2="PI2",THREE.ConstNode.RECIPROCAL_PI="RECIPROCAL_PI",THREE.ConstNode.RECIPROCAL_PI2="RECIPROCAL_PI2",THREE.ConstNode.LOG2="LOG2",THREE.ConstNode.EPSILON="EPSILON",THREE.ConstNode.prototype=Object.create(THREE.TempNode.prototype),THREE.ConstNode.prototype.constructor=THREE.ConstNode,THREE.ConstNode.prototype.nodeType="Const",THREE.ConstNode.prototype.getType=function(t){return t.getTypeByFormat(this.type)},THREE.ConstNode.prototype.eval=function(t,e){var o,s,n="",E=(t=(t||"").trim()).match(/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i);this.useDefine=e,E&&E.length>1?(s=E[1],o=E[2],n=E[3]):(o=t,s="fv1"),this.name=o,this.type=s,this.value=n},THREE.ConstNode.prototype.build=function(t,e){return"source"!==e?(t.include(this),t.format(this.name,this.getType(t),e)):this.value?this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";":void 0},THREE.ConstNode.prototype.generate=function(t,e){return t.format(this.name,this.getType(t),e)},THREE.ConstNode.prototype.toJSON=function(t){var e=this.getJSONNode(t);return e||((e=this.createJSONNode(t)).name=this.name,e.out=this.type,this.value&&(e.value=this.value),!0===e.useDefine&&(e.useDefine=!0)),e};