THREE.SwitchNode=function(t,e){THREE.GLNode.call(this),this.node=t,this.components=e||"x"},THREE.SwitchNode.prototype=Object.create(THREE.GLNode.prototype),THREE.SwitchNode.prototype.constructor=THREE.SwitchNode,THREE.SwitchNode.prototype.nodeType="Switch",THREE.SwitchNode.prototype.getType=function(t){return t.getFormatFromLength(this.components.length)},THREE.SwitchNode.prototype.generate=function(t,e){var o=this.node.getType(t),n=t.getFormatLength(o)-1,r=this.node.build(t,o);if(n>0){var c,h=0,i=t.colorToVector(this.components),d=i.length;for(c=0;c<d;c++)h=Math.max(h,t.getIndexByElement(i.charAt(c)));for(h>n&&(h=n),r+=".",c=0;c<d;c++){i.charAt(c);var p=t.getIndexByElement(i.charAt(c));p>h&&(p=h),r+=t.getElementByIndex(p)}return t.format(r,this.getType(t),e)}return t.format(r,o,e)},THREE.SwitchNode.prototype.toJSON=function(t){var e=this.getJSONNode(t);return e||((e=this.createJSONNode(t)).node=this.node.toJSON(t).uuid,e.components=this.components),e};