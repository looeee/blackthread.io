THREE.UVTransformNode=function(){THREE.FunctionNode.call(this,"( uvTransform * vec4( uvNode, 0, 1 ) ).xy","vec2"),this.uv=new THREE.UVNode,this.transform=new THREE.Matrix4Node},THREE.UVTransformNode.prototype=Object.create(THREE.FunctionNode.prototype),THREE.UVTransformNode.prototype.constructor=THREE.UVTransformNode,THREE.UVTransformNode.prototype.nodeType="UVTransform",THREE.UVTransformNode.prototype.generate=function(o,t){return this.keywords.uvNode=this.uv,this.keywords.uvTransform=this.transform,THREE.FunctionNode.prototype.generate.call(this,o,t)},THREE.UVTransformNode.prototype.compose=function(){var o=new THREE.Vector2(.5,.5),t=new THREE.Vector3,e=new THREE.Matrix4;return function(r,n,s,a){return a=void 0!==a?a:o,this.transform.value.identity().setPosition(t.set(-a.x,-a.y,0)).premultiply(e.makeRotationZ(n)).multiply(e.makeScale(s.x,s.y,0)).multiply(e.makeTranslation(r.x,r.y,0)),this}}(),THREE.UVTransformNode.prototype.toJSON=function(o){var t=this.getJSONNode(o);return t||((t=this.createJSONNode(o)).uv=this.uv.toJSON(o).uuid,t.elements=this.transform.value.elements.concat()),t};