THREE.NormalNode=function(o){THREE.TempNode.call(this,"v3"),this.scope=o||THREE.NormalNode.LOCAL},THREE.NormalNode.LOCAL="local",THREE.NormalNode.WORLD="world",THREE.NormalNode.VIEW="view",THREE.NormalNode.prototype=Object.create(THREE.TempNode.prototype),THREE.NormalNode.prototype.constructor=THREE.NormalNode,THREE.NormalNode.prototype.nodeType="Normal",THREE.NormalNode.prototype.isShared=function(o){switch(this.scope){case THREE.NormalNode.WORLD:return!0}return!1},THREE.NormalNode.prototype.generate=function(o,e){var r,t=o.material;switch(this.scope){case THREE.NormalNode.LOCAL:t.requires.normal=!0,r=o.isShader("vertex")?"normal":"vObjectNormal";break;case THREE.NormalNode.WORLD:t.requires.worldNormal=!0,r=o.isShader("vertex")?"( modelMatrix * vec4( objectNormal, 0.0 ) ).xyz":"vWNormal";break;case THREE.NormalNode.VIEW:r="vNormal"}return o.format(r,this.getType(o),e)},THREE.NormalNode.prototype.toJSON=function(o){var e=this.getJSONNode(o);return e||((e=this.createJSONNode(o)).scope=this.scope),e};