THREE.TAARenderPass=function(e,t,s){void 0===THREE.SSAARenderPass&&console.error("THREE.TAARenderPass relies on THREE.SSAARenderPass"),THREE.SSAARenderPass.call(this,e,t,s),this.sampleLevel=0,this.accumulate=!1},THREE.TAARenderPass.JitterVectors=THREE.SSAARenderPass.JitterVectors,THREE.TAARenderPass.prototype=Object.assign(Object.create(THREE.SSAARenderPass.prototype),{constructor:THREE.TAARenderPass,render:function(e,t,s,a){if(!this.accumulate)return THREE.SSAARenderPass.prototype.render.call(this,e,t,s,a),void(this.accumulateIndex=-1);var r=THREE.TAARenderPass.JitterVectors[5];this.sampleRenderTarget||(this.sampleRenderTarget=new THREE.WebGLRenderTarget(s.width,s.height,this.params),this.sampleRenderTarget.texture.name="TAARenderPass.sample"),this.holdRenderTarget||(this.holdRenderTarget=new THREE.WebGLRenderTarget(s.width,s.height,this.params),this.holdRenderTarget.texture.name="TAARenderPass.hold"),this.accumulate&&-1===this.accumulateIndex&&(THREE.SSAARenderPass.prototype.render.call(this,e,this.holdRenderTarget,s,a),this.accumulateIndex=0);var i=e.autoClear;e.autoClear=!1;var h=1/r.length;if(this.accumulateIndex>=0&&this.accumulateIndex<r.length){this.copyUniforms.opacity.value=h,this.copyUniforms.tDiffuse.value=t.texture;for(var n=Math.pow(2,this.sampleLevel),c=0;c<n;c++){var d=r[this.accumulateIndex];if(this.camera.setViewOffset&&this.camera.setViewOffset(s.width,s.height,.0625*d[0],.0625*d[1],s.width,s.height),e.render(this.scene,this.camera,t,!0),e.render(this.scene2,this.camera2,this.sampleRenderTarget,0===this.accumulateIndex),this.accumulateIndex++,this.accumulateIndex>=r.length)break}this.camera.clearViewOffset&&this.camera.clearViewOffset()}var l=this.accumulateIndex*h;l>0&&(this.copyUniforms.opacity.value=1,this.copyUniforms.tDiffuse.value=this.sampleRenderTarget.texture,e.render(this.scene2,this.camera2,t,!0)),l<1&&(this.copyUniforms.opacity.value=1-l,this.copyUniforms.tDiffuse.value=this.holdRenderTarget.texture,e.render(this.scene2,this.camera2,t,0===l)),e.autoClear=i}});